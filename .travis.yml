language: cpp
sudo: false
addons:
    apt:
        sources:
        - ubuntu-toolchain-r-test
        packages:
        - g++-4.8
        - clang-3.4
before_install:
    - git submodule update --init --recursive
    - export QSIM_PREFIX=`pwd`
    - ./arm64-build.sh release
    - cd capstone
    - make
    - cd ..
    - cd distorm/distorm64/build/linux
    - make clib
    - cd ../../../..
script:
    - make -j2
after_success:
    - make install
    - cd examples/x86/
    - make
    - cd ../arm64/
    - make
compiler:
- clang
- gcc
git:
  submodules: true
notifications:
    email:
        recipients:
            - bobby.prani@gmail.com
        on_success: change
        on_failure: always
    irc: "irc.oftc.net#qsim"
